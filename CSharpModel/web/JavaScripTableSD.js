gx.grid.impl=function(b){this.basePath=gx.basePath;this.imgsDir=gx.staticDirectory;this.columns=[];this.rows=[];this.fixedValues=[];this.width="";this.align="";this.border="0";this.padding="1";this.spacing="0";this.sortColumn=-1;this.ascSort=true;this.usePaging=true;this.eof=1;this.firstRecordOnPage=0;this.pageSize=9999;this.currentPage=1;this.gxLvl=0;this.gxGridName="";this.gxGridObject=null;this.gxBuffer=new gx.text.stringBuffer();this.gxParentRowId="";this.tableClass="";this.headerClass="";this.footerClass="";this.editControlClass="";this.navigationClass="";this.navigationLinkClass="";this.highlightedNavigationLinkClass="";this.columnHeaderClass="";this.columnHeaderTextClass="";this.oddRowClass="";this.oddRowCellClass="";this.evenRowClass="";this.evenRowCellClass="";this.ascLabel=new Image();this.descLabel=new Image();this.id=b;this.container=null;this.setContainerDelayed=function(c){this.container=c};this.addColumn=function(d){if(d.isGxRemove()){d.visible=false}var c=this.columns.length;d.index=c;d.table=this;this.columns[c]=d;return d};this.getColumnByIndex=function(c){return this.columns[c]};this.addRow=function(d,c){d.table=this;if(d==null){return}this.rows[this.rows.length]=d;if(gx.lang.booleanValue(c)){this.render()}return d};this.getColumnByHtmlName=function(d){for(var c=0;c<this.columns.length;c++){if((this.columns[c].htmlName==d)||(this.gxCmpContext+this.columns[c].htmlName==d)){return this.columns[c]}}return null};this.getColumnByGxId=function(d){for(var c=0;c<this.columns.length;c++){if(this.columns[c].gxId==d){return this.columns[c]}}return null};this.getColumnForVar=function(e){for(var c=0;c<this.columns.length;c++){var d=this.parentGxObject.getValidStructFld(this.columns[c].htmlName);if(d){if(d.gxvar==e){return this.columns[c]}}}return null},this.getRowById=function(f){var d=null;var c=this.rows.length;for(var e=0;(d==null)&&(e<c);e++){row=this.rows[e];if(row.id==f){d=row}}return d};this.getRowByGxId=function(f){var d=null;var c=this.rows.length;for(var e=0;(d==null)&&(e<c);e++){row=this.rows[e];if(row.gxId==f){d=row}}return d};this.setSort=function(c,d){if(c==this.sortColumn){if(d==null){this.ascSort=!this.ascSort}else{this.ascSort=gx.lang.booleanValue(d)}}else{this.sortColumn=c;this.ascSort=(d==null?true:gx.lang.booleanValue(d))}this.rows.sort(this.sort);this.ownerGrid.refreshGrid()};this.getControlName=function(d,c){return this.gxCmpContext+c.htmlName+"_"+d.gxId};this.getControlId=function(d,c){return this.getControlName(d,c)};this.getRowCount=function(){return this.rows.length};this.getMaxPage=function(){return Math.ceil(this.getRowCount()/this.pageSize)};this.isGxTrn=function(){return this.parentGxObject.isTransaction()};this.gridObject=function(){return"gx.fn.gridObj('"+this.gxCmpContext+"','"+this.gxGridName+"',"+this.gxIsMasterPageGrid.toString()+")"};this.deleteImgId=function(c){return this.gxCmpContext+"delete"+this.gxGridName+"_"+c};this.showDeleteImage=function(e){if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images){var d=this.isGxTrn();
if(d){var c=gx.dom.el(this.deleteImgId(e));if(c){if(!gx.fn.isVisible(c)){c.style.display="inline";if(c.parentNode.nodeName=="A"){c.parentNode.style.display="inline"}}}}}};this.appendDeleteHeader=function(e,d){if(!this.gxIsFreestyle&&(this.ownerGrid.deleteMethod!=gx.grid.deleteMethods.none)){var f=this.isGxTrn();var c=false;if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu){if(d==gx.grid.deletePositions.left){c=true}else{return}}else{if(gx.grid.deletePosition==d){c=true}}if(f&&c){var g="&nbsp;";if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images){g=gx.grid.deleteTitle}e.append('<th class="'+this.columnHeaderClass+'">'+g+"</th>")}}};this.appendDeleteImage=function(g,r,i){if(this.ownerGrid.deleteMethod!=gx.grid.deleteMethods.none){var h=this.isGxTrn();if(h){var m=false;var c=false;if((this.parentGxObject.Gx_mode!="DSP")&&(this.parentGxObject.Gx_mode!="DLT")){m=r.gxDeleted();c=(r.gxIsMod()||r.gxExists())}var d=this.deleteImgId(r.gxId);var f=false;if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu){if(i==gx.grid.deletePositions.left){f=true}else{return}}else{if(!this.gxIsFreestyle&&(gx.grid.deletePosition==i)){f=true}else{if(this.gxIsFreestyle){var n=gx.grid.deletePositionFree;if(i==gx.grid.deletePositions.left){f=((n==gx.grid.deletePositions.topL)||(n==gx.grid.deletePositions.topR))}else{if(i==gx.grid.deletePositions.right){f=((n==gx.grid.deletePositions.bottomL)||(n==gx.grid.deletePositions.bottomR))}}i=n}}}if(f){var e='<td align="'+this.deleteImageAlign(i)+'">';var l="</td>";var p="";var j=false;if(m&&(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images)){p=gx.grid.undeleteImage}else{if(c&&(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images)){p=gx.grid.deleteImage}else{if(m&&(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)){p=gx.grid.deleteImage}else{p=gx.grid.deleteImage;j=true}}}var q="";g.append(e);if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images){var o=gx.fn.firstGridControl(this.ownerGrid.gridId);q=gx.grid.deleteTooltip;g.append('<a gxfocusable="1" href="javascript:'+this.gridObject()+".setRowDeleted('"+r.gxId+"');\"");g.append(' onfocus="gx.evt.onfocus(this,'+o+",'"+this.ownerGrid.gxComponentContext+"',"+this.ownerGrid.isMasterPageGrid+",'"+r.gxId+"',"+this.ownerGrid.gridId+')"');var k="";if(j){k+="display:none;"}if(k!=""){g.append(' style="'+k+'"')}g.append(">")}g.append('<img id="'+d+'" src="'+p+'"');if(q!=""){g.append(' title="'+q+'"')}g.append(' style="border-style: none;');if(j){g.append("display:none;")}g.append('"');g.append("/>");if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images){g.append("</a>")}g.append(l)}}}};this.deleteImageAlign=function(c){if(this.gxIsFreestyle){if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu){return"left"}var d="right";if((c==gx.grid.deletePositions.bottomL)||(c==gx.grid.deletePositions.topL)){d="left"}return d}return"center"};this.render=function(x,Q,O){if(x!=false){x=true}var A=this.isGxTrn();var q=this.gxIsFreestyle&&(this.gxGridCols>1);
var I="cursor:"+(document.createTextRange?"hand":"pointer")+";";var D=new gx.text.stringBuffer();var f=this.columns;var F=F=f.length;if(!this.gxIsFreestyle&&A){F++}var m=[];var z=[];var v,E,C;if(this.pageSize!=0){var C=this.getMaxPage();if(this.currentPage<=0){this.currentPage=1}else{if(this.currentPage>C){this.currentPage=C}}v=Math.max(this.pageSize*(this.currentPage-1),0);E=Math.min(v+this.pageSize,this.rows.length)}else{v=0;E=this.rows.length}this.tableClass=this.gxCssClass;this.evenRowClass=this.gxEvenLinesClass;this.oddRowClass=this.gxOddLlinesClass;this.headerClass=this.gxTitleClass;this.columnHeaderClass=this.headerClass;this.columnHeaderTextClass=this.headerClass;this.evenRowCellClass=this.evenRowClass;this.oddRowCellClass=this.oddRowClass;var P="";if(this.gxHtmlTags.indexOf("class=")==-1){P=' class="'+this.gxCssClass+'"'}var G="";if(!gx.lang.emptyObject(this.gxBackground)){G+=";background-image:url('"+gx.util.resourceUrl(this.gxBackground,true)+"');"}if(!gx.lang.emptyObject(this.gxBorderWidth)){G+=";border: solid "+this.gxBorderWidth+"px "}if(!gx.lang.emptyObject(this.gxBordercolor)){G+=this.gxBordercolor+";"}else{G+=";"}if(this.ownerGrid.width>0){G+="width:"+this.ownerGrid.width+this.ownerGrid.widthUnit+";"}if(this.gxAllowCollapsing){D.append('<table><tr valign="top"><td>'),D.append('<img style="cursor:pointer;" src="');if(this.gxCollapsed){G="display:none;";D.append(gx.util.resourceUrl(gx.basePath+this.imgsDir+"expand.gif",true))}else{D.append(gx.util.resourceUrl(gx.basePath+this.imgsDir+"collapse.gif",true))}D.append('" onclick="'+this.gridObject()+'.expandCollapse(this, event);"></td><td width="100%">')}D.append("<table "+P+' id="'+this.gxCmpContext+this.gxGridObject+'Tbl" ');if(!gx.lang.emptyObject(this.gxToolTipText)){D.append('title="'+this.gxToolTipText+'" ')}var h=/style="([^"]*)"/ig;var H=h.exec(this.gxHtmlTags);var N="";if(H&&H.length>1){N=H[1]}N+=G;D.append('style="');D.append(N);D.append('" '+this.gxHtmlTags.replace(h,"")+">");if(!gx.lang.emptyObject(this.headerText)){D.append('<tr><td colspan="'+F+'" class="'+this.headerClass+'">'+this.headerText+"</td></tr>")}var w=f.length;if(!this.gxIsFreestyle){D.append("<tr>");this.appendDeleteHeader(D,gx.grid.deletePositions.left);var e=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"asc.gif",true);var J=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"desc.gif",true);var R=0;for(var W=0;W<w;W++){var S=f[W];D.append('<th nowrap="nowrap" class="'+this.columnHeaderClass+'"');var u="";if(!gx.lang.gxBoolean(S.visible)){u+="display:none;"}if(S.width!=""){if(S.gxWidthUnit==""){S.gxWidthUnit="px"}u+="width:"+S.width+S.gxWidthUnit+";"}if(S.align!=""){u+="text-align:"+S.align+";"}if(!gx.lang.emptyObject(this.gxTitleBackColor)&&(this.gxTitleBackstyle==gx.grid.styles.header||this.gxTitleBackstyle==gx.grid.styles.report)){u+="background-color:"+this.gxTitleBackColor+";";this.gxRealTitleBackColor=this.gxTitleBackColor}if(!gx.lang.emptyObject(this.gxBackColor)&&(this.gxTitleBackstyle==gx.grid.styles.uniform)){u+="background-color:"+this.gxBackColor+";";
this.gxRealTitleBackColor=this.gxBackColor}if(!gx.lang.emptyObject(this.gxTitleForeColor)){u+="color:"+this.gxTitleForeColor+";"}if(!gx.lang.emptyObject(this.gxTitleFont)){u+=this.gxTitleFont}D.append(' style="'+u);D.append(' colindex="'+R+'"');D.append(">");R++;if(gx.lang.emptyObject(gx.text.trim(S.title))){D.append("&nbsp;")}else{D.append("<span");if(S.gxTooltip!=undefined&&S.gxTooltip!=""){D.append(' title="'+S.gxTooltip+'"')}var u="";if(S.sortable){u=I;D.append(' onclick="'+this.gridObject()+".grid.setSort("+S.index+');" onMouseOver="window.status=\''+this.sortMessage+"';return true;\" onMouseOut=\"window.status='';return true;\"")}D.append('">');D.append(S.title);this.ascLabel.src=e;this.descLabel.src=J;if(S.sortable&&this.sortColumn==S.index){D.append("&nbsp;"+this.handleLabel(((this.ascSort)?this.ascLabel:this.descLabel),m))}D.append("</span>")}D.append("</th>")}this.appendDeleteHeader(D,gx.grid.deletePositions.right);D.append("</tr>")}var L=true;for(var W=v;W<E;W++){var y=this.rows[W];var d=y.gxDeleted();L=!L;var K=(L?this.evenRowClass:this.oddRowClass)+(d?" RowDeleted":"");if(this.gxIsFreestyle&&!(this.gxTitleBackstyle==gx.grid.styles.report||this.gxTitleBackstyle==gx.grid.styles.uniform)){K=this.tableClass}var n=new gx.text.stringBuffer();var M="tr";var s=q&&this.gxIsFreestyle&&(((W>0)&&(W%this.gxGridCols==0))||((W==0)&&(this.gxGridCols>0)));if(s){if(W>0){D.append("</tr>")}D.append("<tr>")}if(this.gxIsFreestyle){M="td"}if(!this.gxIsFreestyle||(this.gxIsFreestyle&&q)){n.append("<"+M+" id='"+this.gxCmpContext+this.gxGridObject+"Row_"+y.gxId+"'");if(this.gxIsFreestyle&&q){n.append(' gxrow="'+y.gxId.toString()+'"vAlign="'+this.columns[1].gxControl.verticalAlign+'"')}else{n.append(' gxrow="'+y.gxId.toString()+'"')}if(A&&(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)){n.append(' oncontextmenu="'+this.gridObject()+'.showContextMenu(this, event);"')}if(this.gxAllowSelection&&!this.gxIsFreestyle){n.append(' onmousedown="'+this.gridObject()+".grid.setRowSelected(this, '"+y.gxId.toString()+"');\"")}if(A){n.append(' onkeydown="'+this.gridObject()+'.rowKeyPressed(event);"')}if(!this.gxIsFreestyle){n.append(' class="'+K+'"')}if(this.gxAllowHovering&&!y.selected&&!this.gxIsFreestyle){n.append(' onmouseover="'+this.gridObject()+".grid.startRowHover(this, "+y.id+');" onmouseout="'+this.gridObject()+".grid.endRowHover(this, "+y.id+');"')}var B="";var p="";if(this.gxTitleBackstyle==gx.grid.styles.report){p=(L)?this.gxLinesBackcolorEven:this.gxLinesBackcolorOdd}if(this.gxTitleBackstyle==gx.grid.styles.header){p=this.gxLinesBackcolorOdd}if(this.gxTitleBackstyle==gx.grid.styles.uniform){p=this.gxBackColor}if(!gx.lang.emptyObject(p)){B="background-color:"+p+";"}if(!gx.lang.emptyObject(this.gxLinesFont)){B+=this.gxLinesFont}if(B!=""){n.append(' style="'+B+'" ')}n.append(">");D.append(n.toString())}if(this.gxIsFreestyle){if(q){D.append("<table width='100%' cellspacing='0' cellpadding='0'");D.append("><tbody>")}var o=(L?this.evenRowCellClass:this.oddRowCellClass);
var U=this.gxBuffer.toString();D.append(U)}this.appendDeleteImage(D,y,gx.grid.deletePositions.left);for(var V=0;V<w;V++){var S=f[V];var l=gx.lang.gxBoolean(S.visible);var T=y.gxProps[S.index];var c=y.values[S.index];var g=S.gxControl;if(this.gxIsFreestyle&&g.type==gx.html.controls.types.row){if(S.index==0){g.isFreestyleRow=true}}g.grid=this.ownerGrid;g.row=y;g.gridId=this.gxId;g.gridRow=y.gxId;if(!O){g.setProperties.apply(g,T)}else{g.value=c;g.id=S.htmlName+"_"+g.gridRow}if(d){g.rtEnabled=true;g.enabled=false}if(T.Value){g.value=T.Value}if(T.FormattedValue){g.formattedValue=T.FormattedValue}if(T.Values){g.possibleValues=T.Values.v}if(this.gxIsFreestyle&&g.type==gx.html.controls.types.row){if(S.index==0){g.id=this.gxCmpContext+this.gxGridObject+"Row_"+y.gxId;if(A&&(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)){g.oncontextmenu=this.gridObject()+".showContextMenu(this, event);"}}}if(!this.gxIsFreestyle){D.append('<td valign="'+S.valign+'"');var t="";if(!l){t+="display:none;"}if(S.width!=""){if(S.gxWidthUnit==""){S.gxWidthUnit="px"}t+="width:"+S.width+S.gxWidthUnit+";"}if(S.align!=""){t+="text-align:"+S.align+";"}if(g.style){t+=g.style}if(t!=""){D.append(' style="'+t+'" ')}D.append(">")}D.append(g.getHtml());g.persistValue();if(!this.gxIsFreestyle){D.append("</td>")}if(this.gxIsFreestyle){var U=S.buffer.toString();D.append(U)}}if(this.gxIsFreestyle&&q){D.append("</tbody></table></td>")}this.appendDeleteImage(D,y,gx.grid.deletePositions.right)}if(this.gxIsFreestyle&&(this.gxGridCols>0)&&q){D.append("</tr>")}var r="";var k=(A||this.hasPagingButtons());if(k){r=this.buildNavigation(F);D.append(r)}if(!gx.lang.emptyObject(this.footerText)){D.append('<tr><td colspan="'+F+'" class="'+this.footerClass+'">'+this.footerText+"</td></tr>")}D.append("</table>");if(this.gxAllowCollapsing){D.append("</td></tr></table>")}this.container.innerHTML=D.toString();D.clear();D=null};this.changePage=function(d){var c=this.getMaxPage();d=parseInt(d);if(d<=0){d=1}else{if(d>c){d=c}}this.currentPage=d;this.render()};this.setRowSelected=function(g,f){if(g.gxOriginalBackcolor==undefined){g.gxOriginalBackcolor=g.style.backgroundColor}gx.dom.forEachChild(g,this,function(i){if(i.gxOriginalBackcolor==undefined){i.gxOriginalBackcolor=i.style.backgroundColor}});this.instanciateSelectionVars(f);var j=false;var c=this.rows.length;for(var e=0;e<c;e++){var h=this.rows[e];h.selected=(h.gxId==f);if(!h.selected){var d=gx.dom.el(this.gxCmpContext+this.gxGridObject+"Row_"+h.gxId);if((d!=null)&&(d.gxSBackcolor!=undefined)){d.style.backgroundColor=d.gxSBackcolor;if(gx.util.browser.isIE()){gx.dom.forEachChild(d,this,function(i){if((i!=null)&&(i.gxSBackcolor!=undefined)){i.style.backgroundColor=i.gxSBackcolor}})}}}else{g.gxSBackcolor=(g.gxOriginalBackcolor!=undefined)?g.gxOriginalBackcolor:g.style.backgroundColor;g.style.backgroundColor=this.gxSelectionColor.Html;this.instanciateSelectedRow(h);if(gx.util.browser.isIE()){gx.dom.forEachChild(g,this,function(i){i.gxSBackcolor=(i.gxOriginalBackcolor!=undefined)?i.gxOriginalBackcolor:i.style.backgroundColor;
i.style.backgroundColor=this.gxSelectionColor.Html})}}j=!j}};this.instanciateSelectionVars=function(c){gx.setGxO(this.parentGxObject.CmpContext,this.parentGxObject.IsMasterPage);gx.fn.setCurrentGridRow(this.gxId,c);gx.fn.setHidden(this.gxCmpContext+this.gxGridName.toUpperCase()+"_ROW",c)};this.instanciateSelectedRow=function(c){this.setSelectedRowVars(c);if(this.gxOnLineActivate&&!this.ownerGrid.isLoading){this.parentGxObject[this.gxOnLineActivate].call(this.parentGxObject,c.gxId)}};this.setSelectedRowVars=function(g){var f=this.parentGxObject;var c=this.columns.length;for(var d=0;d<c;d++){var e=this.columns[d];var j=f.GXValidFnc[e.gxId];if(j!=null){var h=g.values[d];if(this.ownerGrid.isUsercontrol){h=this.properties[g.id][e.index].value}j.v2v(h)}}};this.startRowHover=function(c,d){if(c.gxOriginalBackcolor==undefined){c.gxOriginalBackcolor=c.style.backgroundColor}gx.dom.forEachChild(c,this,function(f){if(f.gxOriginalBackcolor==undefined){f.gxOriginalBackcolor=f.style.backgroundColor}});var e=this.getRowById(d);if(this.gxAllowHovering&&this.gxHoverColor&&!e.selected){c.gxHBackcolor=c.style.backgroundColor;c.style.backgroundColor=this.gxHoverColor.Html;if(gx.util.browser.isIE()){gx.dom.forEachChild(c,this,function(f){f.gxHBackcolor=f.style.backgroundColor;f.style.backgroundColor=this.gxHoverColor.Html})}}};this.endRowHover=function(c,d){var e=this.getRowById(d);if(this.gxAllowHovering&&!e.selected){if(c.gxHBackcolor!=undefined){c.style.backgroundColor=c.gxHBackcolor;if(gx.util.browser.isIE()){gx.dom.forEachChild(c,this,function(f){if(f.gxHBackcolor!=undefined){f.style.backgroundColor=f.gxHBackcolor}})}}}};this.hasPagingButtons=function(){return(this.usePaging&&(!this.isFirstPage()||!this.isLastPage()))};this.buildNavigation=function(f){var c="cursor:"+(document.createTextRange?"hand":"pointer")+";";var g=new gx.text.stringBuffer();var l=this.getRowCount();var e=f;this.navigationClass=this.gxTitleClass;if(this.gxIsFreestyle&&this.gxGridCols>1){e=this.gxGridCols}if(gx.lang.emptyObject(this.gxRealTitleBackColor)){g.append('<tr><td colspan="'+e+'" class="'+this.navigationClass+'" style="text-align: center;">')}else{g.append('<tr><td colspan="'+e+'" class="'+this.navigationClass+'" style="text-align: center;background-color:'+this.gxRealTitleBackColor+';">')}var k=this.navigationLinkClass;var h=this.highlightedNavigationLinkClass;function n(t,o,p,s,q){var r=(s!=undefined)?'id="'+s+'"':"";return"<a type='gxlink' onkeydown=\""+o+"\" style='text-decoration:none;' tabindex='0' onfocus=\""+q+'" onblur="this.style.textDecoration = \'none\';"><span '+r+' style="'+c+'" class="'+k+'" onclick="'+o+'" onMouseOver="this.className=\''+h+"';window.status='"+p+"';return true;\" onMouseOut=\"this.className='"+k+"';window.status='';return true;\">"+t+"</span></a>"}var d=gx.util.browser.isIE();var m='style="padding-left:20px;padding-bottom:5px;"';function j(p,o){return'<span class="'+p+'" onclick="'+o+'" '+m+">&nbsp;&nbsp;</span>"}if(l>0){if(this.usePaging){if(!d){g.append("<div>")
}if(this.currentPage<=0){this.currentPage=1}var i=this.getMaxPage();if(!this.isFirstPage()){g.append(j("PagingButtonsFirst",this.getPaginEvent("FIRST")));g.append(j("PagingButtonsPrevious",this.getPaginEvent("PREV")))}if(!this.isLastPage()){g.append(j("PagingButtonsNext",this.getPaginEvent("NEXT")));g.append(j("PagingButtonsLast",this.getPaginEvent("LAST")))}if(!d){g.append("</div>&nbsp;")}}}if(this.isGxTrn()&&!this.gxHasAddlines&&(this.parentGxObject.Gx_mode!="DSP")){g.append(n("["+this.gxNewRowText+"]",this.gridObject()+".getNewRows(1,event);",this.gxNewRowText,this.gxGridObject+"_NewRow",this.gridObject()+".gxNewRowFocused(this);"))}g.append("</td></tr>");return g.toString()};this.isLastPage=function(){var c=this.eof;return(c!="0")};this.isFirstPage=function(){var c=gx.lang.emptyObject(this.firstRecordOnPage)?"0":this.firstRecordOnPage;return(c=="0")};this.getPaginEvent=function(c){var d=this.gxGridName.toUpperCase()+"PAGING";return"javascript:gx.fn.setHidden('"+this.gxCmpContext+d+"','"+c+"');gx.evt.execEvt('"+this.gxCmpContext+"E"+d+".', gx.evt.dummyCtrl);"};this.getWebImageTag=function(c){return'<img border="0" src="/'+this.basePath+this.imgsDir+c.toString()+'"/>'};var a=0;this.handleLabel=function(d,c){if(d.src){var e="img"+a;a++;return"<img name='"+e+"' border='0' src='"+d.src+"'>"}else{return d}};this.sort=function(p,o){if(p.table.isGxTrn()){if((!p.gxExists()&&!o.gxExists())&&(!p.gxIsMod()&&!o.gxIsMod())){return 0}else{if((!p.gxExists()&&o.gxExists())||(!p.gxIsMod()&&o.gxIsMod())){return 1}else{if((p.gxExists()&&!o.gxExists())||(p.gxIsMod()&&!o.gxIsMod())){return -1}}}}var g=p.table;var d=g.getColumnByIndex(g.sortColumn);var k=d.type;var n,m;values1=p.values[g.sortColumn];m=o.values[g.sortColumn];if(!gx.lang.instanceOf(values1,Array)){values1=[values1]}if(!gx.lang.instanceOf(m,Array)){m=[m]}var l;switch(d.type){case gx.types.numeric:l=function(i){i=gx.num.parseFloat(i,gx.thousandSeparator,gx.decimalPoint);if(isNaN(i)){i=0}return i};break;case gx.types.date:case gx.types.dateTime:l=function(i){try{i=new gx.date.gxdate(i).Value}catch(q){gx.dbg.logEx(q,"JSTable.js","sort")}return i.valueOf()};break;case gx.types.bool:l=function(i){return gx.lang.booleanValue(i)?1:0};break;case gx.types.character:default:l=function(i){return String(i).replace(/\<[^\>]*\>/g,"").toUpperCase()};break}var c=Math.max(values1.length,m.length);var j=0;for(var e=0;(j==0)&&(e<c);e++){var h=values1[e];if(h==null){j=-1}var f=m[e];if(f==null){j=1}if(j==0){h=l(h);f=l(f);j=(h==f)?0:(h>f)?1:-1}if(j!=0){j*=(g.ascSort?1:-1)}}return j}};gx.grid.column=function(d,c,b,e,a){this.table=null;this.index=-1;this.title=d||"";this.type=(typeof(c)!="undefined")?c:gx.types.character;this.width=b||"";this.align=e||"left";this.valign=a||"middle";this.htmlName=null;this.visible=true;this.enabled=true;this.sortable=true;this.colspan=1;this.rowspan=1;this.gxId=-1;this.gxAttId=-1;this.gxAttName="";this.gxWidthUnit="";this.gxChecked=undefined;this.gxUnChecked=undefined;this.buffer=new gx.text.stringBuffer();
this.isGxRemove=function(){if(this.gxAttName){return(this.gxAttName.indexOf("GxRemove")!=-1)||(this.gxAttName.indexOf("nRcdDeleted")!=-1)}else{return false}}};gx.grid.row=function(d,a,c,b){this.table=null;this.id=d;this.gxParentRowId=b||"";this.gxId=c+this.gxParentRowId;this.gxCmpContext="";this.values=[];this.selected=false;this.gxLvl=0;this.gxProps=a.Props||[];this.gxRenderProps=a.RenderProps||[];this.gxGrids=[];this.gxKeyValues=[];this.gxExists=function(){var e=gx.fn.getHidden(this.gxCmpContext+"nRcdExists_"+this.gxLvl+"_"+this.gxId);if(e!=null){return(e!=0)}return false};this.gxIsMod=function(){var e=gx.fn.getHidden(this.gxCmpContext+"nIsMod_"+this.gxLvl+"_"+this.gxId);if(e!=null){return(e!=0)}return false};this.gxDeleted=function(){var e=gx.fn.getHidden(this.gxCmpContext+"nRcdDeleted_"+this.gxLvl+"_"+this.gxId);if(e!=null){return(e!=0)}return false};this.setDeleted=function(e){var f=(e?1:0);gx.fn.setHidden(this.gxCmpContext+"nRcdDeleted_"+this.gxLvl+"_"+this.gxId,f)}};